<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>homework</title>
  <style>
    html, body {
      background-color: white;
      color: black;
      text-transform: lowercase;
      font: revert;
      margin: 0;
      height: 100%;
    }
    body {
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
    }
    div {
      font: revert;
    }
  </style>
</head>
<body>
  <div>spam your f key</div>
  <div id="total">0</div>
  <div>cps: <span id="cps">0</span></div>

    <!--the link that takes you around the world-->

  <a href="/global" 
   style="position: fixed; bottom: 10px; left: 10px; text-decoration: underline; color: blue; font: revert;">
  click with people all around the world
</a>


   <!--javascript-->

  <script>
    const hi_ezra = 2147483647;
    let totalPresses = 0;
    let slPresses = 0;
    let recentPresses = [];

     function loadSave() {
      const save = localStorage.getItem("clickSave");
      if (save) {
        const data = JSON.parse(save);
        totalPresses = data.totalPresses || 0;
        slPresses = data.slPresses || 0;
      }
    }

    function saveProgress() {
      localStorage.setItem("clickSave", JSON.stringify({
        totalPresses,
        slPresses
      }));
    }

 function updateCounters() {
  const now = Date.now();
  // Keep only presses in the last 1000ms (1 second)
  recentPresses = recentPresses.filter(t => now - t <= 1000);

  // Update CPS
  slPresses = recentPresses.length;

  document.getElementById('total').textContent = totalPresses;
  document.getElementById('cps').textContent = slPresses.toFixed(0);

  saveProgress();
}

    document.addEventListener('keydown', (e) => {
      if (e.key.toLowerCase() === 'f') {
        if (totalPresses < hi_ezra) {
          totalPresses++;
          recentPresses.push(Date.now());
        }
        updateCounters();
      }
    });

    setInterval(updateCounters, 100);

    loadSave();
    updateCounters();
  </script>
</body>
</html>

